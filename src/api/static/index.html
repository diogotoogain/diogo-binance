<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SNAME-MR Trading Bot Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #141414;
            --border-color: #2a2a2a;
            --text-primary: #f3f4f6;
            --text-secondary: #9ca3af;
        }
        .light {
            --bg-primary: #f5f5f5;
            --bg-secondary: #ffffff;
            --bg-tertiary: #fafafa;
            --border-color: #e5e5e5;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            transition: background-color 0.3s ease;
        }
        .card {
            background: linear-gradient(145deg, var(--bg-secondary), var(--bg-tertiary));
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        .card:hover {
            border-color: #3a3a3a;
        }
        .pulse-green {
            animation: pulseGreen 2s infinite;
        }
        .pulse-red {
            animation: pulseRed 2s infinite;
        }
        @keyframes pulseGreen {
            0%, 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(34, 197, 94, 0); }
        }
        @keyframes pulseRed {
            0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(239, 68, 68, 0); }
        }
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
        }
        .status-live { background-color: #22c55e; }
        .status-offline { background-color: #ef4444; }
        .log-info { color: #60a5fa; }
        .log-warning { color: #fbbf24; }
        .log-error { color: #ef4444; }
        #logs-container {
            max-height: 200px;
            overflow-y: auto;
        }
        #logs-container::-webkit-scrollbar {
            width: 6px;
        }
        #logs-container::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        #logs-container::-webkit-scrollbar-thumb {
            background: #3a3a3a;
            border-radius: 3px;
        }
        .progress-bar {
            height: 8px;
            background: #2a2a2a;
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Binance-style tabs */
        .tab-btn {
            padding: 0.75rem 1.5rem;
            color: #9ca3af;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .tab-btn:hover {
            color: #f3f4f6;
        }
        .tab-btn.active {
            color: #fcd34d;
            border-bottom-color: #fcd34d;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        /* Table styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        .data-table th {
            text-align: left;
            padding: 0.75rem;
            color: #9ca3af;
            font-size: 0.75rem;
            text-transform: uppercase;
            border-bottom: 1px solid #2a2a2a;
        }
        .data-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #1f1f1f;
            font-size: 0.875rem;
        }
        .data-table tr:hover {
            background: rgba(255,255,255,0.02);
        }
        /* Timeframe buttons */
        .timeframe-btn, .chart-type-btn, .log-filter-btn {
            padding: 0.25rem 0.75rem;
            font-size: 0.75rem;
            border-radius: 0.375rem;
            background: #2a2a2a;
            color: #9ca3af;
            transition: all 0.2s;
            cursor: pointer;
        }
        .timeframe-btn:hover, .chart-type-btn:hover, .log-filter-btn:hover {
            background: #3a3a3a;
            color: #f3f4f6;
        }
        .timeframe-btn.active, .chart-type-btn.active, .log-filter-btn.active {
            background: #fcd34d;
            color: #0f0f0f;
        }
        /* Connection indicator */
        .connection-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }
        .connection-indicator.connected { background-color: #22c55e; }
        .connection-indicator.disconnected { background-color: #ef4444; }
        .connection-indicator.reconnecting { background-color: #fbbf24; animation: blink 1s infinite; }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }
        /* Notification container */
        #notification-container {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 9999;
            max-width: 350px;
        }
        /* Performance card mini stats */
        .mini-stat {
            background: rgba(255,255,255,0.05);
            border-radius: 0.5rem;
            padding: 0.75rem;
            text-align: center;
        }
        .mini-stat-label {
            font-size: 0.65rem;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .mini-stat-value {
            font-size: 1rem;
            font-weight: 600;
        }
        /* Tooltip */
        .tooltip {
            position: relative;
        }
        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #1a1a1a;
            color: #f3f4f6;
            padding: 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            white-space: nowrap;
            z-index: 100;
            border: 1px solid #3a3a3a;
        }
    </style>
</head>
<body class="min-h-screen text-gray-100 p-4 md:p-6">
    <!-- Notification Container -->
    <div id="notification-container"></div>
    
    <!-- Header -->
    <header class="mb-6">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
            <div class="flex items-center gap-3">
                <span class="text-3xl">ü§ñ</span>
                <div>
                    <h1 class="text-2xl font-bold text-white">SNAME-MR TRADING BOT</h1>
                    <p class="text-sm text-gray-500">Sistema de Trading Automatizado</p>
                </div>
            </div>
            <div class="flex items-center gap-4 flex-wrap">
                <!-- Connection Status -->
                <div class="flex items-center gap-2">
                    <span id="connection-indicator" class="connection-indicator disconnected"></span>
                    <span id="status-dot" class="status-dot status-offline"></span>
                    <span id="status-text" class="text-sm text-gray-400">Conectando...</span>
                </div>
                
                <!-- Latency -->
                <div class="flex items-center gap-1 text-xs text-gray-500">
                    <span>Ping:</span>
                    <span id="latency-display" class="text-gray-400">--</span>
                </div>
                
                <!-- Last Refresh -->
                <div class="flex items-center gap-1 text-xs text-gray-500">
                    <span>√öltima atualiza√ß√£o:</span>
                    <span id="last-refresh" class="text-gray-400">--</span>
                </div>
                
                <span id="testnet-badge" class="px-3 py-1 bg-yellow-500/20 text-yellow-400 text-sm rounded-full hidden">Testnet</span>
                
                <!-- Bot Status -->
                <div class="flex items-center gap-2 text-sm">
                    <span class="text-gray-500">Status:</span>
                    <span id="bot-status" class="text-green-400">Executando</span>
                </div>
                
                <span id="uptime" class="text-sm text-gray-500">Uptime: 00:00:00</span>
                
                <!-- Control Buttons -->
                <div class="flex items-center gap-2">
                    <button id="pause-toggle" onclick="toggleBotPause()" class="px-3 py-1 bg-yellow-500/20 text-yellow-400 rounded-lg hover:bg-yellow-500/30" title="Pausar Bot">‚è∏Ô∏è</button>
                    <button id="sound-toggle" onclick="toggleSound()" class="px-3 py-1 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600" title="Som">üîä</button>
                    <button id="theme-toggle" onclick="toggleTheme()" class="px-3 py-1 bg-gray-700 text-gray-300 rounded-lg hover:bg-gray-600" title="Tema">üåô</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
        <!-- Balance Card -->
        <div class="card rounded-xl p-5">
            <div class="flex items-center gap-2 mb-4">
                <span class="text-xl">üí∞</span>
                <h2 class="text-lg font-semibold text-gray-300">SALDO</h2>
            </div>
            <div class="space-y-3">
                <div>
                    <p class="text-sm text-gray-500">Saldo Total</p>
                    <p id="total-balance" class="text-2xl font-bold text-white">$0.00</p>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <p class="text-xs text-gray-500">Dispon√≠vel</p>
                        <p id="available-balance" class="text-sm text-gray-300">$0.00</p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500">Em Margem</p>
                        <p id="margin-balance" class="text-sm text-gray-300">$0.00</p>
                    </div>
                </div>
                <div class="pt-2 border-t border-gray-800">
                    <div class="flex justify-between items-center">
                        <span class="text-xs text-gray-500">PnL N√£o Realizado</span>
                        <span id="unrealized-pnl" class="text-sm font-medium text-gray-300">$0.00</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Price Card -->
        <div class="card rounded-xl p-5">
            <div class="flex items-center gap-2 mb-4">
                <span class="text-xl">üìä</span>
                <h2 class="text-lg font-semibold text-gray-300">BTC/USDT</h2>
            </div>
            <div class="space-y-3">
                <div class="flex items-end gap-2">
                    <p id="current-price" class="text-3xl font-bold text-white">$0.00</p>
                    <span id="price-change" class="text-sm text-gray-500 pb-1">0.00%</span>
                </div>
                <div class="flex justify-between text-sm">
                    <span class="text-gray-500">Volume 24h:</span>
                    <span id="volume-24h" class="text-gray-300">$0.00</span>
                </div>
            </div>
        </div>

        <!-- Position Card -->
        <div class="card rounded-xl p-5">
            <div class="flex items-center gap-2 mb-4">
                <span class="text-xl">üìç</span>
                <h2 class="text-lg font-semibold text-gray-300">POSI√á√ÉO</h2>
            </div>
            <div id="position-content">
                <div id="no-position" class="text-center py-4">
                    <p class="text-gray-500">Sem posi√ß√£o aberta</p>
                </div>
                <div id="has-position" class="hidden space-y-3">
                    <div class="flex items-center gap-2">
                        <span id="position-side" class="px-3 py-1 rounded-full text-sm font-medium">LONG</span>
                        <span id="position-qty" class="text-lg font-bold text-white">0.000</span>
                    </div>
                    <div class="grid grid-cols-2 gap-3 text-sm">
                        <div>
                            <p class="text-xs text-gray-500">Pre√ßo Entrada</p>
                            <p id="entry-price" class="text-gray-300">$0.00</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500">PnL</p>
                            <p id="position-pnl" class="font-medium">$0.00</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-3 text-sm">
                        <div>
                            <p class="text-xs text-gray-500">üõë Stop Loss</p>
                            <p id="stop-loss" class="text-red-400">$0.00</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-500">üéØ Take Profit</p>
                            <p id="take-profit" class="text-green-400">$0.00</p>
                        </div>
                    </div>
                    <!-- Position Progress Bar -->
                    <div id="position-progress-container" class="mt-3 pt-3 border-t border-gray-800">
                        <div class="text-center text-gray-500 text-xs">Aguardando SL/TP</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Binance-style Tabs Section -->
    <div class="card rounded-xl mb-6">
        <!-- Tab Headers -->
        <div class="flex border-b border-gray-800 overflow-x-auto">
            <button class="tab-btn active" data-tab="positions">
                Positions <span id="positions-count" class="ml-1 px-1.5 py-0.5 bg-gray-700 rounded text-xs">0</span>
            </button>
            <button class="tab-btn" data-tab="open-orders">
                Open Orders <span id="orders-count" class="ml-1 px-1.5 py-0.5 bg-gray-700 rounded text-xs">0</span>
            </button>
            <button class="tab-btn" data-tab="order-history">Order History</button>
            <button class="tab-btn" data-tab="trade-history">Trade History</button>
            <button class="tab-btn" data-tab="transactions">Transaction History</button>
            <button class="tab-btn" data-tab="assets">Assets</button>
        </div>
        
        <!-- Tab Contents -->
        <div class="p-4">
            <!-- Positions Tab -->
            <div id="tab-positions" class="tab-content active">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Size</th>
                            <th>Entry Price</th>
                            <th>Mark Price</th>
                            <th>Liq. Price</th>
                            <th>Unrealized PNL</th>
                            <th>ROE%</th>
                        </tr>
                    </thead>
                    <tbody id="positions-table-body">
                        <tr><td colspan="7" class="text-center text-gray-500 py-8">No open positions</td></tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Open Orders Tab -->
            <div id="tab-open-orders" class="tab-content">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Symbol</th>
                            <th>Type</th>
                            <th>Side</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="open-orders-table-body">
                        <tr><td colspan="7" class="text-center text-gray-500 py-8">No open orders</td></tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Order History Tab -->
            <div id="tab-order-history" class="tab-content">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Symbol</th>
                            <th>Type</th>
                            <th>Side</th>
                            <th>Avg Price</th>
                            <th>Filled</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="order-history-table-body">
                        <tr><td colspan="7" class="text-center text-gray-500 py-8">Loading...</td></tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Trade History Tab -->
            <div id="tab-trade-history" class="tab-content">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Symbol</th>
                            <th>Side</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Realized PNL</th>
                            <th>Fee</th>
                        </tr>
                    </thead>
                    <tbody id="trade-history-table-body">
                        <tr><td colspan="7" class="text-center text-gray-500 py-8">Loading...</td></tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Transactions Tab -->
            <div id="tab-transactions" class="tab-content">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Symbol</th>
                            <th>Type</th>
                            <th>Amount</th>
                            <th>Asset</th>
                        </tr>
                    </thead>
                    <tbody id="transactions-table-body">
                        <tr><td colspan="5" class="text-center text-gray-500 py-8">Loading...</td></tr>
                    </tbody>
                </table>
            </div>
            
            <!-- Assets Tab -->
            <div id="tab-assets" class="tab-content">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Asset</th>
                            <th>Wallet Balance</th>
                            <th>Available Balance</th>
                            <th>Unrealized PNL</th>
                        </tr>
                    </thead>
                    <tbody id="assets-table-body">
                        <tr><td colspan="4" class="text-center text-gray-500 py-8">Loading...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Price Chart -->
    <div class="card rounded-xl p-5 mb-6">
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-2">
                <span class="text-xl">üìà</span>
                <h2 class="text-lg font-semibold text-gray-300">GR√ÅFICO DE PRE√áO</h2>
            </div>
            <div class="flex items-center gap-4">
                <!-- Timeframe Selector -->
                <div class="flex items-center gap-1">
                    <button class="timeframe-btn active" data-timeframe="1m">1m</button>
                    <button class="timeframe-btn" data-timeframe="5m">5m</button>
                    <button class="timeframe-btn" data-timeframe="15m">15m</button>
                    <button class="timeframe-btn" data-timeframe="1h">1h</button>
                    <button class="timeframe-btn" data-timeframe="4h">4h</button>
                </div>
                <!-- Chart Type Toggle -->
                <div class="flex items-center gap-1">
                    <button class="chart-type-btn active" data-type="line">üìà Line</button>
                    <button class="chart-type-btn" data-type="candle">üìä Candle</button>
                </div>
            </div>
        </div>
        <div class="h-64">
            <canvas id="priceChart"></canvas>
        </div>
    </div>

    <!-- Strategies and Meta Controller -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6">
        <!-- Strategies -->
        <div class="card rounded-xl p-5">
            <div class="flex items-center gap-2 mb-4">
                <span class="text-xl">üß†</span>
                <h2 class="text-lg font-semibold text-gray-300">ESTRAT√âGIAS</h2>
            </div>
            <div id="strategies-container" class="space-y-4">
                <!-- VPIN -->
                <div class="strategy-item" data-strategy="VPINDetector">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm text-gray-400">VPIN</span>
                        <span class="vpin-value text-sm font-medium text-gray-300">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="vpin-progress progress-fill bg-blue-500" style="width: 0%"></div>
                    </div>
                </div>
                <!-- OBI -->
                <div class="strategy-item" data-strategy="OBI">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm text-gray-400">OBI</span>
                        <span class="obi-value text-sm font-medium text-gray-300">0.00</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="flex-1 progress-bar">
                            <div class="obi-progress progress-fill bg-purple-500" style="width: 50%; margin-left: 50%"></div>
                        </div>
                        <span class="obi-indicator text-xs">‚ö™</span>
                    </div>
                </div>
                <!-- Flow Imbalance -->
                <div class="strategy-item" data-strategy="FlowImbalance">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm text-gray-400">Flow Imbalance</span>
                        <span class="flow-value text-sm font-medium text-gray-300">50%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="flow-progress progress-fill bg-orange-500" style="width: 50%"></div>
                    </div>
                </div>
                <!-- Rolling VWAP -->
                <div class="strategy-item" data-strategy="RollingVWAP">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm text-gray-400">Rolling VWAP</span>
                        <span class="vwap-value text-sm font-medium text-gray-300">$0.00</span>
                    </div>
                    <div class="flex items-center gap-2 text-xs text-gray-500">
                        <span>Pre√ßo vs VWAP:</span>
                        <span class="vwap-indicator">-</span>
                    </div>
                </div>
                <!-- Cascade Liquidation -->
                <div class="strategy-item" data-strategy="CascadeLiquidation">
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm text-gray-400">Cascade Liquidation</span>
                        <span class="cascade-value text-sm font-medium text-gray-300">-</span>
                    </div>
                    <div class="text-xs text-gray-500">
                        <span>√öltima cascata: </span>
                        <span class="cascade-last">Nenhuma</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Meta Controller -->
        <div class="card rounded-xl p-5">
            <div class="flex items-center gap-2 mb-4">
                <span class="text-xl">üéØ</span>
                <h2 class="text-lg font-semibold text-gray-300">META-CONTROLLER</h2>
            </div>
            <div class="space-y-4">
                <div class="text-center py-4">
                    <p class="text-sm text-gray-500 mb-2">Decis√£o Atual</p>
                    <div id="meta-decision" class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-gray-800">
                        <span class="decision-icon text-2xl">‚ö™</span>
                        <span class="decision-text text-xl font-bold text-gray-400">HOLD</span>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div>
                        <p class="text-xs text-gray-500">Confian√ßa</p>
                        <p id="meta-confidence" class="text-lg font-medium text-gray-300">-</p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500">Estrat√©gias Concordando</p>
                        <p id="meta-agreeing" class="text-lg font-medium text-gray-300">0</p>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div class="tooltip" data-tooltip="Score de -1 a +1. >0.5 = BUY forte, <-0.5 = SELL forte">
                        <p class="text-xs text-gray-500">Score ‚ÑπÔ∏è</p>
                        <p id="meta-score" class="text-lg font-medium text-gray-300">0.00</p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-500">Total Decis√µes</p>
                        <p id="meta-decisions" class="text-lg font-medium text-gray-300">0</p>
                    </div>
                </div>
                <!-- Score Explanation -->
                <div class="pt-3 border-t border-gray-800">
                    <p class="text-xs text-gray-500 text-center mb-2">Escala do Score:</p>
                    <div class="flex items-center gap-1 text-xs">
                        <span class="text-red-400">-1.0</span>
                        <div class="flex-1 h-2 bg-gradient-to-r from-red-500 via-gray-500 to-green-500 rounded-full"></div>
                        <span class="text-green-400">+1.0</span>
                    </div>
                    <p class="text-xs text-gray-600 text-center mt-1">&lt;-0.5 SELL | -0.5 a 0.5 HOLD | &gt;0.5 BUY</p>
                </div>
                <!-- Decision History -->
                <div class="pt-3 border-t border-gray-800">
                    <p class="text-xs text-gray-500 mb-2">Hist√≥rico de Decis√µes</p>
                    <div id="meta-decision-history" class="space-y-1 max-h-32 overflow-y-auto">
                        <p class="text-gray-500 text-xs text-center py-2">Nenhuma decis√£o ainda</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Trades and Liquidations -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6">
        <!-- Trade History -->
        <div class="card rounded-xl p-5">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-2">
                    <span class="text-xl">üìú</span>
                    <h2 class="text-lg font-semibold text-gray-300">HIST√ìRICO DE TRADES</h2>
                </div>
                <div class="flex items-center gap-4 text-sm">
                    <span class="text-gray-500">Win Rate:</span>
                    <span id="win-rate" class="font-medium text-green-400">0%</span>
                </div>
            </div>
            <div id="trades-container" class="space-y-2 max-h-48 overflow-y-auto">
                <p class="text-gray-500 text-center py-4">Nenhum trade ainda</p>
            </div>
            <div class="mt-4 pt-3 border-t border-gray-800 flex justify-between text-sm">
                <span class="text-gray-500">Total PnL:</span>
                <span id="total-pnl" class="font-medium text-gray-300">$0.00</span>
            </div>
        </div>

        <!-- Liquidations -->
        <div class="card rounded-xl p-5">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-2">
                    <span class="text-xl">üíÄ</span>
                    <h2 class="text-lg font-semibold text-gray-300">LIQUIDA√á√ïES</h2>
                </div>
                <div class="text-sm">
                    <span class="text-gray-500">Total: </span>
                    <span id="total-liq-volume" class="font-medium text-gray-300">$0</span>
                </div>
            </div>
            <div id="liquidations-container" class="space-y-2 max-h-48 overflow-y-auto">
                <p class="text-gray-500 text-center py-4">Nenhuma liquida√ß√£o detectada</p>
            </div>
        </div>
    </div>

    <!-- Performance Section -->
    <div class="card rounded-xl p-5 mb-6">
        <div class="flex items-center gap-2 mb-4">
            <span class="text-xl">üìà</span>
            <h2 class="text-lg font-semibold text-gray-300">PERFORMANCE</h2>
        </div>
        
        <!-- Equity Curve -->
        <div class="mb-4">
            <div class="h-32 bg-gray-800/50 rounded-lg flex items-center justify-center">
                <canvas id="equityChart" class="w-full h-full"></canvas>
            </div>
        </div>
        
        <!-- Performance Metrics -->
        <div class="grid grid-cols-3 md:grid-cols-6 gap-3">
            <div class="mini-stat">
                <p class="mini-stat-label">Win Rate</p>
                <p id="perf-win-rate" class="mini-stat-value text-green-400">0%</p>
            </div>
            <div class="mini-stat">
                <p class="mini-stat-label">Drawdown</p>
                <p id="perf-drawdown" class="mini-stat-value text-red-400">0%</p>
            </div>
            <div class="mini-stat">
                <p class="mini-stat-label">Sharpe</p>
                <p id="perf-sharpe" class="mini-stat-value text-blue-400">0.00</p>
            </div>
            <div class="mini-stat">
                <p class="mini-stat-label">Profit Factor</p>
                <p id="perf-profit-factor" class="mini-stat-value text-purple-400">0.00</p>
            </div>
            <div class="mini-stat">
                <p class="mini-stat-label">Best Trade</p>
                <p id="perf-best-trade" class="mini-stat-value text-green-400">$0.00</p>
            </div>
            <div class="mini-stat">
                <p class="mini-stat-label">Worst Trade</p>
                <p id="perf-worst-trade" class="mini-stat-value text-red-400">$0.00</p>
            </div>
        </div>
        
        <!-- Additional Metrics Row -->
        <div class="grid grid-cols-3 gap-3 mt-3">
            <div class="mini-stat">
                <p class="mini-stat-label">Trades/Hora</p>
                <p id="perf-trades-per-hour" class="mini-stat-value text-gray-300">0/h</p>
            </div>
            <div class="mini-stat">
                <p class="mini-stat-label">Tempo M√©dio</p>
                <p id="perf-avg-time" class="mini-stat-value text-gray-300">00:00:00</p>
            </div>
            <div class="mini-stat">
                <p class="mini-stat-label">Total Trades</p>
                <p id="perf-total-trades" class="mini-stat-value text-gray-300">0</p>
            </div>
        </div>
    </div>

    <!-- Logs -->
    <div class="card rounded-xl p-5">
        <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-2">
                <span class="text-xl">üìã</span>
                <h2 class="text-lg font-semibold text-gray-300">LOGS</h2>
            </div>
            <div class="flex items-center gap-2">
                <!-- Log Filter -->
                <div class="flex items-center gap-1">
                    <button class="log-filter-btn active" data-filter="all">Todos</button>
                    <button class="log-filter-btn" data-filter="BUY">BUY</button>
                    <button class="log-filter-btn" data-filter="SELL">SELL</button>
                    <button class="log-filter-btn" data-filter="ERROR">Erros</button>
                    <button class="log-filter-btn" data-filter="INFO">Info</button>
                </div>
                <!-- Export Button -->
                <button onclick="exportLogsCSV()" class="px-3 py-1 bg-blue-500/20 text-blue-400 rounded-lg hover:bg-blue-500/30 text-xs">
                    üì• Exportar CSV
                </button>
            </div>
        </div>
        <div id="logs-container" class="font-mono text-xs space-y-1">
            <p class="text-gray-500">Aguardando logs...</p>
        </div>
    </div>

    <script src="/static/dashboard.js"></script>
</body>
</html>
